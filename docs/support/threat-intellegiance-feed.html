<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.551">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="The following threat intelligence reports summarise recent cyber-attacks targeting companies in the cloud services sector. These attacks highlight evolving tactics, techniques, and procedures (TTPs) used by cybercriminals and emphasise the need for robust, adaptive security measures.">

<title>CloudCore - Threat Intelligence Feed Summary</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">CloudCore</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../pricing.html"> 
<span class="menu-text">Pricing</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog/index.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../chatbots/index.html"> 
<span class="menu-text">Staff-Clients</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-docs" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Docs</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-docs">    
        <li>
    <a class="dropdown-item" href="../../docs/interviews.html">
 <span class="dropdown-text">Transcripts</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../docs/policies.html">
 <span class="dropdown-text">Policies</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../docs/support.html">
 <span class="dropdown-text">Other</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../docs/articles.html">
 <span class="dropdown-text">In the News</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../contact.html"> 
<span class="menu-text">Contact US</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#overview-of-recent-threats-in-the-cloud-services-industry" id="toc-overview-of-recent-threats-in-the-cloud-services-industry" class="nav-link active" data-scroll-target="#overview-of-recent-threats-in-the-cloud-services-industry"><strong>Overview of Recent Threats in the Cloud Services Industry</strong></a></li>
  <li><a href="#phishing-attack-leading-to-credential-theft" id="toc-phishing-attack-leading-to-credential-theft" class="nav-link" data-scroll-target="#phishing-attack-leading-to-credential-theft"><strong>1. Phishing Attack Leading to Credential Theft</strong></a></li>
  <li><a href="#api-exploitation-leading-to-data-breach" id="toc-api-exploitation-leading-to-data-breach" class="nav-link" data-scroll-target="#api-exploitation-leading-to-data-breach"><strong>2. API Exploitation Leading to Data Breach</strong></a></li>
  <li><a href="#ransomware-attack-via-supply-chain-compromise" id="toc-ransomware-attack-via-supply-chain-compromise" class="nav-link" data-scroll-target="#ransomware-attack-via-supply-chain-compromise"><strong>3. Ransomware Attack via Supply Chain Compromise</strong></a></li>
  <li><a href="#zero-day-exploit-in-cloud-management-software" id="toc-zero-day-exploit-in-cloud-management-software" class="nav-link" data-scroll-target="#zero-day-exploit-in-cloud-management-software"><strong>4. Zero-Day Exploit in Cloud Management Software</strong></a></li>
  <li><a href="#insider-threat-leading-to-data-leak" id="toc-insider-threat-leading-to-data-leak" class="nav-link" data-scroll-target="#insider-threat-leading-to-data-leak"><strong>5. Insider Threat Leading to Data Leak</strong></a></li>
  <li><a href="#conclusion-and-recommendations-for-cloudcore-networks" id="toc-conclusion-and-recommendations-for-cloudcore-networks" class="nav-link" data-scroll-target="#conclusion-and-recommendations-for-cloudcore-networks"><strong>Conclusion and Recommendations for CloudCore Networks</strong></a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Threat Intelligence Feed Summary</h1>
  <div class="quarto-categories">
    <div class="quarto-category">IT Management</div>
    <div class="quarto-category">Threat</div>
    <div class="quarto-category">Compliance</div>
  </div>
  </div>

<div>
  <div class="description">
    <p>The following threat intelligence reports summarise recent cyber-attacks targeting companies in the cloud services sector. These attacks highlight evolving tactics, techniques, and procedures (TTPs) used by cybercriminals and emphasise the need for robust, adaptive security measures.</p>
  </div>
</div>


<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p><strong>Date:</strong> September 14, 2024<br>
<strong>Prepared By:</strong> CloudCore Threat Intelligence Team</p>
<hr>
<section id="overview-of-recent-threats-in-the-cloud-services-industry" class="level3">
<h3 class="anchored" data-anchor-id="overview-of-recent-threats-in-the-cloud-services-industry"><strong>Overview of Recent Threats in the Cloud Services Industry</strong></h3>
<p>The following threat intelligence reports summarise recent cyber-attacks targeting companies in the cloud services sector. These attacks highlight evolving tactics, techniques, and procedures (TTPs) used by cybercriminals and emphasise the need for robust, adaptive security measures.</p>
</section>
<section id="phishing-attack-leading-to-credential-theft" class="level3">
<h3 class="anchored" data-anchor-id="phishing-attack-leading-to-credential-theft"><strong>1. Phishing Attack Leading to Credential Theft</strong></h3>
<p><strong>Incident:</strong><br>
- <strong>Target:</strong> SkyCloud Solutions, a mid-sised cloud provider specialising in financial services. - <strong>Date:</strong> August 15, 2024 - <strong>Summary:</strong> A sophisticated phishing campaign was launched against SkyCloud’s employees, utilising emails that mimicked internal IT communications. The phishing emails included links to a fake login portal that captured employee credentials. Using these credentials, attackers gained unauthorised access to SkyCloud’s internal network and subsequently exfiltrated sensitive customer data, including financial records and personally identifiable information (PII).</p>
<p><strong>Tactics and Techniques:</strong> - <strong>Phishing (T1566):</strong> Spear-phishing emails with realistic branding and urgent messaging to lower vigilance. - <strong>Credential Dumping (T1003):</strong> Attackers harvested credentials using keyloggers and cloned login pages. - <strong>Data Exfiltration (T1020):</strong> Data was exfiltrated via encrypted channels to evade detection by security monitoring tools.</p>
<p><strong>Relevant Mitigations:</strong> - Enforce multi-factor authentication (MFA) across all user accounts. - Enhance employee training on recognising and reporting phishing attempts. - Deploy advanced email filtering and monitoring solutions to detect and block phishing attempts.</p>
<p><strong>Relevance to CloudCore:</strong> CloudCore should strengthen MFA enforcement, especially for privileged accounts, and regularly conduct phishing simulations to bolster employee awareness and resilience against similar attacks.</p>
</section>
<section id="api-exploitation-leading-to-data-breach" class="level3">
<h3 class="anchored" data-anchor-id="api-exploitation-leading-to-data-breach"><strong>2. API Exploitation Leading to Data Breach</strong></h3>
<p><strong>Incident:</strong><br>
- <strong>Target:</strong> DataStream Cloud, a cloud services company serving healthcare clients. - <strong>Date:</strong> August 28, 2024 - <strong>Summary:</strong> Attackers exploited a vulnerability in one of DataStream Cloud’s exposed APIs, allowing them to bypass authentication and access sensitive health records. The vulnerability was traced back to an outdated API management tool that failed to enforce rate limiting and input validation checks. The breach affected over 300,000 patient records, triggering significant regulatory scrutiny under HIPAA.</p>
<p><strong>Tactics and Techniques:</strong> - <strong>Exploitation of Public-Facing Application (T1190):</strong> Attackers exploited flaws in API design and implementation. - <strong>API Abuse (T1091):</strong> Repeated API calls to extract large volumes of data without triggering rate limits. - <strong>Data Manipulation (T1565):</strong> Some data records were altered, leading to inaccurate patient information.</p>
<p><strong>Relevant Mitigations:</strong> - Regularly update and patch API management tools and conduct security assessments. - Implement strict input validation, rate limiting, and access controls on all exposed APIs. - Monitor API traffic for anomalies that could indicate abuse or exploitation.</p>
<p><strong>Relevance to CloudCore:</strong> CloudCore must review its API security practices, ensuring robust validation and monitoring mechanisms are in place to prevent unauthorised access and data exfiltration.</p>
</section>
<section id="ransomware-attack-via-supply-chain-compromise" class="level3">
<h3 class="anchored" data-anchor-id="ransomware-attack-via-supply-chain-compromise"><strong>3. Ransomware Attack via Supply Chain Compromise</strong></h3>
<p><strong>Incident:</strong><br>
- <strong>Target:</strong> CloudAxis, a provider of enterprise cloud solutions with a focus on large corporations. - <strong>Date:</strong> September 2, 2024 - <strong>Summary:</strong> Attackers compromised a third-party software provider used by CloudAxis for system monitoring. Through the compromised software, ransomware was deployed across CloudAxis’s infrastructure, encrypting critical files and disrupting services for several days. The attackers demanded a ransom in cryptocurrency to provide the decryption keys.</p>
<p><strong>Tactics and Techniques:</strong> - <strong>Supply Chain Compromise (T1195):</strong> Initial access was gained through compromised third-party software. - <strong>Ransomware (T1486):</strong> Attackers used the compromised software to deploy ransomware, encrypting sensitive files. - <strong>Command and Control (T1071):</strong> Communication with the ransomware operators was maintained through encrypted channels to avoid detection.</p>
<p><strong>Relevant Mitigations:</strong> - Vet and monitor third-party software vendors rigorously to ensure security compliance. - Implement network segmentation to limit the spread of malware within the infrastructure. - Maintain regular, offline backups of critical data to ensure quick recovery without paying the ransom.</p>
<p><strong>Relevance to CloudCore:</strong> CloudCore should strengthen its supply chain risk management practices, ensuring that all third-party software is regularly audited for security vulnerabilities and that contingency plans, including offline backups, are in place to handle ransomware attacks.</p>
</section>
<section id="zero-day-exploit-in-cloud-management-software" class="level3">
<h3 class="anchored" data-anchor-id="zero-day-exploit-in-cloud-management-software"><strong>4. Zero-Day Exploit in Cloud Management Software</strong></h3>
<p><strong>Incident:</strong><br>
- <strong>Target:</strong> CloudNova, a cloud service provider with a focus on education and non-profit sectors. - <strong>Date:</strong> September 5, 2024 - <strong>Summary:</strong> Attackers exploited a zero-day vulnerability in CloudNova’s cloud management software, which allowed them to escalate privileges and gain root access to several critical systems. The breach led to unauthorised data access and manipulation, significantly impacting CloudNova’s reputation and operations. The vulnerability was not publicly known, and patches were not available at the time of the attack.</p>
<p><strong>Tactics and Techniques:</strong> - <strong>sero-Day Exploit (T1200):</strong> Exploitation of an unpatched vulnerability in cloud management software. - <strong>Privilege Escalation (T1068):</strong> Attackers gained root access, allowing complete control over the affected systems. - <strong>Data Manipulation and Destruction (T1485):</strong> Some data was altered or deleted, disrupting services and causing operational chaos.</p>
<p><strong>Relevant Mitigations:</strong> - Develop a rapid response plan for sero-day vulnerabilities, including immediate isolation and patching strategies. - Engage in continuous vulnerability scanning and threat intelligence sharing to stay informed about emerging threats. - Implement application whitelisting and behviour analysis to detect and block unusual activities that exploit unknown vulnerabilities.</p>
<p><strong>Relevance to CloudCore:</strong> CloudCore should invest in advanced threat detection capabilities, including behviour-based monitoring and automated response systems, to quickly identify and mitigate the impact of sero-day exploits.</p>
</section>
<section id="insider-threat-leading-to-data-leak" class="level3">
<h3 class="anchored" data-anchor-id="insider-threat-leading-to-data-leak"><strong>5. Insider Threat Leading to Data Leak</strong></h3>
<p><strong>Incident:</strong><br>
- <strong>Target:</strong> SecureCloud Inc., a cloud provider specialising in secure data storage solutions. - <strong>Date:</strong> September 10, 2024 - <strong>Summary:</strong> A disgruntled employee with access to sensitive data repositories intentionally leaked confidential customer data to external parties. The employee exploited overly broad access privileges and inadequate monitoring of internal activities. The breach was discovered only after the data was published on a public forum, causing significant reputational damage.</p>
<p><strong>Tactics and Techniques:</strong> - <strong>Insider Threat (T1074):</strong> Exploitation of internal access to exfiltrate and leak sensitive data. - <strong>Data Staging (T1070):</strong> The insider staged data locally before exfiltration to avoid detection by network monitoring tools. - <strong>Data Exfiltration (T1020):</strong> Data was exfiltrated through encrypted channels to external servers.</p>
<p><strong>Relevant Mitigations:</strong> - Implement the principle of least privilege to minimise access to sensitive data based on job roles. - Enhance monitoring of insider activities, including data access and transfers, to quickly detect anomalies. - Conduct regular insider threat training and awareness programs to reinforce the consequences of malicious actions.</p>
<p><strong>Relevance to CloudCore:</strong> CloudCore should review access control policies and strengthen monitoring of employee activities to detect and prevent insider threats. A clear insider threat program, including detection tools and awareness training, will mitigate the risks associated with internal actors.</p>
<hr>
</section>
<section id="conclusion-and-recommendations-for-cloudcore-networks" class="level3">
<h3 class="anchored" data-anchor-id="conclusion-and-recommendations-for-cloudcore-networks"><strong>Conclusion and Recommendations for CloudCore Networks</strong></h3>
<p>The recent attacks on similar cloud service providers underscore the importance of maintaining a vigilant and adaptive security posture. CloudCore Networks should prioritise the following actions based on the observed threat landscape:</p>
<ol type="1">
<li><strong>Enhance Employee Security Training:</strong> Focus on phishing prevention, insider threat awareness, and the importance of security hygiene.</li>
<li><strong>Strengthen Access Controls:</strong> Regularly review access privileges, enforce the principle of least privilege, and implement robust monitoring of both external and internal access to sensitive data.</li>
<li><strong>Improve API and Endpoint Security:</strong> Secure all exposed APIs with proper validation, rate limiting, and continuous monitoring. Expand endpoint protection to include behviour analysis and anomaly detection.</li>
<li><strong>Prepare for sero-Day and Ransomware Threats:</strong> Develop and regularly test incident response plans for sero-day vulnerabilities and ransomware attacks, including data recovery strategies.</li>
<li><strong>Implement Comprehensive Vendor Management:</strong> Regularly assess and monitor the security posture of third-party vendors to minimise supply chain risks.</li>
</ol>
<p>By addressing these areas, CloudCore Networks can enhance its resilience against the evolving threats targeting cloud service providers and better protect its infrastructure and customer data from future attacks.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/teaching-repositories\.github\.io\/cloudcore\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>4 Millrose Dr, Malaga, WA 6090 and 11 Newcastle St, Perth, WA 6000<br>
cloudcore@serveur.au, +61 (8) 4587 899<br>
Copyright 2021, CloudCore<br>
<a href="https://lordicon.com/">Icons by Lordicon.com</a></p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>